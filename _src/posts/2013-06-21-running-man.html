<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title></title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">???</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">5.3.4.11</span></div><p>Title: Running Man
Date: 2013-06-21T12:38:51
Tags: animation, animate, running man, icons</p><p>Have you ever noticed the little man in the bottom right corner?</p><p>At first sight he looks hand drawn, but the appearance deceives.
The little guy is in fact ray traced. Neil Toronto the man behind
the ray tracing code, was inspired by the animation of the main
character in the Commodore 64 classic
<a href="http://en.wikipedia.org/wiki/Impossible_Mission">Impossible Mission</a>.</p><p>Buried in the documentation of the <span class="RktSym">icons</span> library, one finds
the function <span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/images/Icons.html#%28def._%28%28lib._images%2Ficons%2Fstickman..rkt%29._running-stickman-icon%29%29" class="RktValLink" data-pltdoc="x">running-stickman-icon</a></span>. The function can be used
to generate frames of a running man animation - it even allows us
to change colors and size of the running man.</p><p>The first parameter of <span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/images/Icons.html#%28def._%28%28lib._images%2Ficons%2Fstickman..rkt%29._running-stickman-icon%29%29" class="RktValLink" data-pltdoc="x">running-stickman-icon</a></span> is the
time, <span class="RktSym">t</span>, a number between 0 and 1. Let&rsquo;s see 10 frames
of the default running man.</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">images/icons/stickman</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0"><tr><td></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Flist%29%29" class="RktStxLink" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/sequences.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._in-range%29%29" class="RktValLink" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1/10</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/images/Icons.html#%28def._%28%28lib._images%2Ficons%2Fstickman..rkt%29._running-stickman-icon%29%29" class="RktValLink" data-pltdoc="x">running-stickman-icon</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">(list </span><img src="pict.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_2.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_3.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_4.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_5.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_6.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_7.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_8.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_9.png" alt="image" width="20" height="24" /><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><img src="pict_10.png" alt="image" width="20" height="24" /><span class="RktRes">)</span></p></td></tr></table></blockquote><p>The default man is a little small, but we can easily change both
the size and the colors of the man.</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">images/icons/stickman</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0"><tr><td></td></tr></table></td></tr><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/images/Icons.html#%28def._%28%28lib._images%2Ficons%2Fstickman..rkt%29._running-stickman-icon%29%29" class="RktValLink" data-pltdoc="x">running-stickman-icon</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">#:height</span><span class="hspace">&nbsp;</span><span class="RktVal">128</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:head-color</span><span class="hspace">&nbsp;</span><span class="RktVal">"white"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:arm-color</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"gray"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:body-color</span><span class="hspace">&nbsp;</span><span class="RktVal">"lightblue"</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><img src="pict_11.png" alt="image" width="104" height="128" /></p></td></tr></table></blockquote><p>It is now easy to create an animation of the running man.
First we need a function <span class="RktSym">render-man</span> that given a
frame number will produce an image. Then the function <span class="RktSym">animate</span>
from <span class="RktSym">2htdp/image</span> can be used to display the animation.</p><p>To get a fluent motion we will use <span class="RktSym">N</span><span class="RktSym">=28</span> frames
in one cycle of the animation. Frame 0, 28, 56 and so forth will
be the same. If <span class="RktSym">n</span> is the frame number (of the animation),
then <span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._remainder%29%29" class="RktValLink" data-pltdoc="x">remainder</a></span><span class="stt"> </span><span class="RktSym">n</span><span class="stt"> </span><span class="RktSym">N</span><span class="RktPn">)</span>
is the frame number in the 0 to <span class="RktSym">N-1</span> range. Divide by <span class="RktSym">n</span>
to get the time <span class="RktSym">t</span> in the interval <span class="RktPn">[</span><span class="RktVal">0</span><span class="stt"> </span><span class="RktRdr">,</span><span class="RktVal">1</span><span class="RktPn">]</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">N</span><span class="hspace">&nbsp;</span><span class="RktVal">28</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">render-man</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2F%29%29" class="RktValLink" data-pltdoc="x">/</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._remainder%29%29" class="RktValLink" data-pltdoc="x">remainder</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym">N</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">N</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._freeze%29%29" class="RktValLink" data-pltdoc="x">freeze</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/images/Icons.html#%28def._%28%28lib._images%2Ficons%2Fstickman..rkt%29._running-stickman-icon%29%29" class="RktValLink" data-pltdoc="x">running-stickman-icon</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="hspace">&nbsp;</span><span class="RktPn">#:height</span><span class="hspace">&nbsp;</span><span class="RktVal">128</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:head-color</span><span class="hspace">&nbsp;</span><span class="RktVal">"white"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:arm-color</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"gray"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:body-color</span><span class="hspace">&nbsp;</span><span class="RktVal">"lightblue"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Since the result of <span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/images/Icons.html#%28def._%28%28lib._images%2Ficons%2Fstickman..rkt%29._running-stickman-icon%29%29" class="RktValLink" data-pltdoc="x">running-stickman-icon</a></span> is a <span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/draw/bitmap_.html" class="RktValLink" data-pltdoc="x">bitmap%</a></span>
object, we need to "<span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._freeze%29%29" class="RktValLink" data-pltdoc="x">freeze</a></span>" it in order to use it with <span class="RktSym">2htdp/universe</span>.</p><p>The running man is now ready for action:</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">images/icons/stickman</span><span class="hspace">&nbsp;</span><span class="RktSym">2htdp/image</span><span class="hspace">&nbsp;</span><span class="RktSym">2htdp/universe</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">N</span><span class="hspace">&nbsp;</span><span class="RktVal">28</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">render-man</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/release-candidate2/racket/doc/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">animate</span><span class="hspace">&nbsp;</span><span class="RktSym">render-man</span><span class="RktPn">)</span></td></tr></table></blockquote></div></div><div id="contextindicator">&nbsp;</div></body></html>