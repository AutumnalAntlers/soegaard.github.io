<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Flmatrix: Floating Point Matrices</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript">
(function() {
  document.write('<link rel="stylesheet" href="katex/katex.min.css" />');
})();(function() {document.write('<scr' + 'ipt type="text/javascript" src="katex/katex.min.js"></scr' + 'ipt>');})();(function(f) {
  // A "simple" onLoad function
  if (window.document.readyState == "complete") {
    f();
  } else if (window.document.addEventListener) {
    window.document.addEventListener("DOMContentLoaded", f, false);
  } else if (window.attachEvent) {
    window.attachEvent("onreadystatechange", function() {
      if (window.document.readyState == "complete") {
        f();
      }
    });
  } else {
    var oldLoad = window.onload;
    if (typeof(oldLoad) == "function") {
      window.onload = function() {
        try {
          oldLoad();
        } finally {
          f();
        }
      };
    } else {
      window.onload = f;
    }
  }
})(function() {
  // This is an ugly way to change the doctype, in case the scribble document
  // did not use (with-html5).
  if (!(document.doctype && document.doctype.publicId == '')) {
    if (console && console.log) {
      console.log("Re-wrote the document to use the HTML5 doctype.\n"
                  + "  Consider using the following declaration:\n"
                  + "      @title[#:style (with-html5 manual-doc-style)]{â€¦}");
    }
    var wholeDoc = '<!doctype HTML>\n' + document.documentElement.outerHTML;
    document.open();
    document.clear();
    document.write(wholeDoc);
  }
  var inlineElements = document.getElementsByClassName("texMathInline");
  for (var i = 0; i < inlineElements.length; i++) {
    var e = inlineElements[i];
    katex.render(e.textContent, e, { displayMode:false, throwOnError:false });
  }
  var displayElements = document.getElementsByClassName("texMathDisplay");
  for (var i = 0; i < displayElements.length; i++) {
    var e = displayElements[i];
    katex.render(e.textContent, e, { displayMode:true, throwOnError:false });
  }
});
</script><script type="text/javascript">
(function() {document.write('<scr' + 'ipt type="text/javascript" src="MathJax/MathJax.js?config=default"></scr' + 'ipt>');})();
</script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="flmatrix.html" class="tocviewselflink" data-pltdoc="x">Flmatrix:<span class="mywbr"> &nbsp;</span> Floating Point Matrices</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="flmatrix.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="flmatrix.html#%28part._.Quick_.Tutorial%29" class="tocviewlink" data-pltdoc="x">Quick Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="flmatrix.html#%28part._.Installation%29" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._flmatrix%29" class="tocsubseclink" data-pltdoc="x">Flmatrix:<span class="mywbr"> &nbsp;</span> Floating Point Matrices</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Quick_.Tutorial%29" class="tocsubseclink" data-pltdoc="x">Quick Tutorial</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Properties%29" class="tocsubseclink" data-pltdoc="x">Basic Properties</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Indexing%29" class="tocsubseclink" data-pltdoc="x">Basic Indexing</a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Matrix_.Creation%29" class="tocsubseclink" data-pltdoc="x">Matrix Creation</a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Elementwise_.Operations%29" class="tocsubseclink" data-pltdoc="x">Elementwise Operations</a></td></tr><tr><td><span class="tocsublinknumber">2.5<tt>&nbsp;</tt></span><a href="#%28part._.Indexing__.Submatrices_and_.Iterating%29" class="tocsubseclink" data-pltdoc="x">Indexing, Submatrices and Iterating</a></td></tr><tr><td><span class="tocsublinknumber">2.6<tt>&nbsp;</tt></span><a href="#%28part._.Basic_.Linear_.Algebra%29" class="tocsubseclink" data-pltdoc="x">Basic Linear Algebra</a></td></tr><tr><td><span class="tocsublinknumber">2.7<tt>&nbsp;</tt></span><a href="#%28part._.Matrix_and_.Vector_.Products%29" class="tocsubseclink" data-pltdoc="x">Matrix and Vector Products</a></td></tr><tr><td><span class="tocsublinknumber">2.8<tt>&nbsp;</tt></span><a href="#%28part._.Matrix_.Decompositions%29" class="tocsubseclink" data-pltdoc="x">Matrix Decompositions</a></td></tr><tr><td><span class="tocsublinknumber">2.9<tt>&nbsp;</tt></span><a href="#%28part._.Matrix_.Eigenvalues_and_.Eigenvectors%29" class="tocsubseclink" data-pltdoc="x">Matrix Eigenvalues and Eigenvectors</a></td></tr><tr><td><span class="tocsublinknumber">2.10<tt>&nbsp;</tt></span><a href="#%28part._.Norms_and_.Invariants%29" class="tocsubseclink" data-pltdoc="x">Norms and Invariants</a></td></tr><tr><td><span class="tocsublinknumber">2.11<tt>&nbsp;</tt></span><a href="#%28part._.Solving_.Equations_and_.Inverting_.Matrices%29" class="tocsubseclink" data-pltdoc="x">Solving Equations and Inverting Matrices</a></td></tr><tr><td><span class="tocsublinknumber">2.12<tt>&nbsp;</tt></span><a href="#%28part._.Least_.Square_.Problems%29" class="tocsubseclink" data-pltdoc="x">Least Square Problems</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">7.5</span></div><h2><a name="(part._flmatrix)"></a><a name="(mod-path._flmatrix)"></a>Flmatrix: Floating Point Matrices</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Jens Axel S&#248;gaard &lt;<a href="mailto:jensaxel@soegaard.net">jensaxel@soegaard.net</a>&gt;</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="flmatrix.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">flmatrix</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/base" title="Install this package using `raco pkg install base`"><span class="stt">base</span></a></span></td></tr></table></p><p>This manual documents the matrix library <a href="flmatrix.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">flmatrix</span></a>.</p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="flmatrix.html#%28part._.Introduction%29" class="toptoclink" data-pltdoc="x">1<span class="hspace">&nbsp;</span>Introduction</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="flmatrix.html#%28part._.Quick_.Tutorial%29" class="toptoclink" data-pltdoc="x">2<span class="hspace">&nbsp;</span>Quick Tutorial</a></p></td></tr><tr><td><p><span class="hspace"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="flmatrix.html#%28part._.Installation%29" class="toptoclink" data-pltdoc="x">3<span class="hspace">&nbsp;</span>Installation</a></p></td></tr></table><h3>1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>A matrix is a rectangular arrangements of numbers in rows and columns.
This library provides functions to construct and compute with
matrices whose elements are IEEE double precision floating point numbers.
These numbers are referred to as <a href="http://docs.racket-lang.org/reference/numbers.html#%28tech._flonum%29" class="techoutside" data-pltdoc="x"><span class="techinside">flonums</span></a>
in the Racket manual, but the most common name for these numbers are
simply <span style="font-style: italic">doubles</span>.</p><p>Restricting the scope of the library to dense matrices with floating numbers
allow the implementation to use routines implemented in Fortran and C.
The low-level routines consists of calls to functions in BLAS and LAPACK.
BLAS (Basic Linear Algebra Subprograms) and LAPACK (Linear Algebra PACKage)
are industry standard libraries and are available on all major platforms.</p><p>If you are in need of matrix algebra over more general numbers then
look at the functional matrix library in <a href="http://docs.racket-lang.org/math/matrices.html" data-pltdoc="x">Matrices and Linear Algebra</a>.</p><p>This library can be used in a functional manner, but imperative operations
are available. There are at least two reasons to use the imperative approach:
1) text books often describe matrix algorithms using imperative operations,
and, 2) imperative operations can reduce the amount of memory needed
during a computation.</p><p><div class="SIntrapara">The available operations can be divided into rough categories:
</div><div class="SIntrapara"><ul><li><p>Level 1:  High   level - do what I mean</p></li><li><p>Level 2:  Medium level - do what I mean this way</p></li><li><p>Level 3:  Low    level - do it using this underlying C-function</p></li></ul></div></p><p>To use the library one can get by with level 1 operations, but if you understand
the underlying representation, you can improve your algorithms using
level 2 operations. For those that really want to squeeze out the last bit of
performance we have made level 3 operations available as well.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Quick_.Tutorial)"></a>Quick Tutorial</h3><p>This section shows how to do simple matrix computations.
The beginning part of the tutorial describes working with matrices simply as arrays
of numbers.
The end shows how to do linear algebra.</p><h4>2.1<tt>&nbsp;</tt><a name="(part._.Basic_.Properties)"></a>Basic Properties</h4><p>An <span class="RktSym">flmatrix</span> consists conceptually of a two-dimensional
array of floating point numbers. An <span class="texMathInline">m\times n</span> (<span class="texMathInline">m</span> by <span class="texMathInline">n</span>) matrix is
divided into <span class="texMathInline">m</span> rows and <span class="texMathInline">n</span> columns.</p><p><div class="math">\begin{bmatrix}
  \hrule a_0     \hrule  \\
  \hrule a_1     \hrule  \\
           \cdots        \\
  \hrule a_{m-1} \hrule
\end{bmatrix}</div></p><p><div class="math">\begin{bmatrix}
  a_{00} &amp; a_{01} &amp; a_{02} \\
  a_{10} &amp; a_{11} &amp; a_{12}
\end{bmatrix}</div></p><p>The basic properties of an <span class="RktSym">flmatrix</span> can be examined using these functions:</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">shape</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
  return a list of with the number of rows and columns</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">size</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
  the number of elements in the matrix</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">nrows</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
  the number of rows</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">ncols</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
  the number of columns</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flmatrix:</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">shape</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">size</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">nrows</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">ncols</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote></div></p><h4>2.2<tt>&nbsp;</tt><a name="(part._.Basic_.Indexing)"></a>Basic Indexing</h4><p>Since a matrix is divided into rows and columns we can refer to an
element in the matrix by row and column numbers. The element on the
<span class="texMathInline">i</span>&rsquo;th row and <span class="texMathInline">j</span>&rsquo;th column is referred to as the element with index <span class="math">(i,j)</span>.</p><p>The indices are zero-based so a matrix with <span class="texMathInline">m</span> rows and <span class="texMathInline">n</span> columns
has row-indices <span class="math">0, 1, \ldots, m-1</span> and column-indices <span class="math">0, 1, \ldots n-1</span>.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">ref</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">i</span><span class="stt"> </span><span class="RktSym">j</span><span class="RktPn">)</span></span>
  the element in <span class="texMathInline">A</span> with index <span class="math">(i,j)</span></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">row</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">i</span><span class="RktPn">)</span></span>
  the <span class="texMathInline">i</span>&rsquo;th row of <span class="texMathInline">A</span></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">col</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">j</span><span class="RktPn">)</span></span>
  the <span class="texMathInline">j</span>&rsquo;th column of <span class="texMathInline">A</span></p><p>Notice that row and column vectors are simply matrices with
a single row and a single column respectively</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flmatrix:</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">]</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">ref</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2.0</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">row</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 2.0 3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">col</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((2.0) (5.0)))</span></p></td></tr></table></blockquote></div></p><h4>2.3<tt>&nbsp;</tt><a name="(part._.Matrix_.Creation)"></a>Matrix Creation</h4><p>There are several ways of creating matrices.</p><p>Use <span class="RktSym">matrix</span> to create an <span class="RktSym">flmatrix</span> from existing Racket data.
It can convert vector-of-vector-of and list-of-lists representation of matrices
into the <span class="RktSym">flmatrix</span> representation. A vector of numbers or a list
of numbers will be converted into a column vector (a matrix with only one column).</p><p>Any non-floating point numbers will be converted to floating point.
The function <span class="RktSym">matrix</span> also accepts <span class="RktSym">f64vectors</span> as input.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="stt"> </span><span class="RktSym">obj</span><span class="RktPn">)</span></span>
  create a matrix with values from <span class="RktSym">obj</span></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">[</span><span class="RktVal">[</span><span class="RktVal">1/2</span><span class="hspace">&nbsp;</span><span class="RktVal">1/3</span><span class="RktVal">]</span><span class="hspace">&nbsp;</span><span class="RktVal">[</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">]</span><span class="RktVal">]</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.5 0.3333333333333333) (4.0 5.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">[</span><span class="RktVal">#</span><span class="RktVal">[</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">]</span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">[</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">]</span><span class="RktVal">]</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 2.0 3.0) (4.0 5.0 6.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0) (2.0) (3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/vectors.html#%28def._%28%28quote._~23~25kernel%29._vector%29%29" class="RktValLink" data-pltdoc="x">vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0) (2.0) (3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/foreign/homogeneous-vectors.html#%28def._%28%28lib._ffi%2Fvector..rkt%29._f64vector%29%29" class="RktValLink" data-pltdoc="x">f64vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0) (2.0) (3.0)))</span></p></td></tr></table></blockquote></div></p><p>After conversion the created <span class="RktSym">flmatrix</span> will contain a pointer to
piece newly allocated memory containing the floating point numbers.
If you happen to work with data in the form of <span class="RktSym"><a href="http://docs.racket-lang.org/foreign/homogeneous-vectors.html#%28def._%28%28lib._ffi%2Fvector..rkt%29._f64vector%29%29" class="RktValLink" data-pltdoc="x">f64vector</a></span>s, then
you can avoid the allocation, if you use <span class="RktSym">matrix!</span> instead.
If the same <span class="RktSym"><a href="http://docs.racket-lang.org/foreign/homogeneous-vectors.html#%28def._%28%28lib._ffi%2Fvector..rkt%29._f64vector%29%29" class="RktValLink" data-pltdoc="x">f64vector</a></span> is used to create two matrices with <span class="RktSym">matrix!</span>
they will share the same backing array - so setting an element one matrix
will affect the other.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">matrix!</span><span class="stt"> </span><span class="RktSym">obj</span><span class="RktPn">)</span></span>
  create a matrix with values from <span class="RktSym">obj</span> avoid allocation of
  backing array if possible</p><p><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/foreign/homogeneous-vectors.html#%28def._%28%28lib._ffi%2Fvector..rkt%29._f64vector%29%29" class="RktValLink" data-pltdoc="x">f64vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix!</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix!</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((1.0) (2.0) (3.0))) (flmatrix: ((1.0) (2.0) (3.0))))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">mset!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((42.0) (2.0) (3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((42.0) (2.0) (3.0))) (flmatrix: ((42.0) (2.0) (3.0))))</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">For comparision the same example with <span class="RktSym">matrix</span> instead:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/foreign/homogeneous-vectors.html#%28def._%28%28lib._ffi%2Fvector..rkt%29._f64vector%29%29" class="RktValLink" data-pltdoc="x">f64vector</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((1.0) (2.0) (3.0))) (flmatrix: ((1.0) (2.0) (3.0))))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">mset!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((42.0) (2.0) (3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((42.0) (2.0) (3.0))) (flmatrix: ((1.0) (2.0) (3.0))))</span></p></td></tr></table></blockquote></div></p></div></p><p>In order to create a matrix of specific size with all zeros or all ones,
use the functions <span class="RktSym">zeros</span> and <span class="RktSym">ones</span>. Use <span class="RktSym">eye</span>
to make matrix with ones on a diagonal.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">zeros</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span>
  create a square <span class="texMathInline">n\times n</span> matrix with all zeros</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">zeros</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span>
  create a <span class="texMathInline">m\times n</span> matrix with all zeros</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">ones</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span>
  create a square <span class="texMathInline">n\times n</span> matrix with all ones</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">ones</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span>
  create a <span class="texMathInline">m\times n</span> matrix with all ones</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">eye</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="stt"> </span><span class="RktSym">k</span><span class="RktPn">)</span></span>
  create a <span class="texMathInline">m\times n</span> matrix with ones on the <span class="texMathInline">k</span>&rsquo;th diagonal</p><p>The arguments <span class="texMathInline">n</span> and <span class="texMathInline">k</span> are optional for <span class="RktSym">eye</span>
and defaults to <span class="texMathInline">m</span> and <span class="math">0</span> respectively.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">zeros</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 0.0) (0.0 0.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">zeros</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 0.0 0.0) (0.0 0.0 0.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">ones</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 1.0) (1.0 1.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">ones</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 1.0 1.0) (1.0 1.0 1.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eye</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eye</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eye</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eye</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix: ((1.0 0.0 0.0) (0.0 1.0 0.0) (0.0 0.0 1.0)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0 0.0 0.0 0.0) (0.0 1.0 0.0 0.0) (0.0 0.0 1.0 0.0)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((0.0 1.0 0.0) (0.0 0.0 1.0) (0.0 0.0 0.0)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((0.0 0.0 0.0) (1.0 0.0 0.0) (0.0 1.0 0.0))))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>To create ranges of values use <span class="RktSym">arange</span> or <span class="RktSym">colarange</span> which both work like
<span class="RktPn">(</span><span class="RktSym">matrix</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">range</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">step</span><span class="RktPn">)</span><span class="RktPn">)</span>, but avoids build an intermediary list.
The functions <span class="RktSym">arange</span> and <span class="RktSym">colarange</span> produce row and column vectors respectively.
The vector created has length <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._ceiling%29%29" class="RktValLink" data-pltdoc="x">ceiling</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2F%29%29" class="RktValLink" data-pltdoc="x">/</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">start</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">step</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">arange</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">step</span><span class="RktPn">)</span></span>
  create a row vector with values from start to stop (exclusively),
  here step is the gap between values</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">arange</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="RktPn">)</span></span>
  like <span class="RktPn">(</span><span class="RktSym">arange</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktVal">1.0</span><span class="RktPn">)</span></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">arange</span><span class="stt"> </span><span class="RktSym">stop</span><span class="RktPn">)</span></span>
  like <span class="RktPn">(</span><span class="RktSym">arange</span><span class="stt"> </span><span class="RktVal">0.0</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktVal">1.0</span><span class="RktPn">)</span></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">colarange</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">step</span><span class="RktPn">)</span></span> <br/>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">colarange</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="RktPn">)</span></span>      <br/>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">colarange</span><span class="stt"> </span><span class="RktSym">start</span><span class="RktPn">)</span></span>           <br/>
  like <span class="RktSym">arange</span> but produces a column vector.</p><p><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((5.0 7.0 9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((5.0 6.0 7.0 8.0 9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0 2.0 3.0 4.0)))</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">colarange</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((5.0) (7.0) (9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">colarange</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((5.0) (6.0) (7.0) (8.0) (9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">colarange</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0) (1.0) (2.0) (3.0) (4.0)))</span></p></td></tr></table></blockquote></div></p></div></p><p>Sometimes it is possible to keep the elements of matrix, but change its shape.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">reshape</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span>  <br/>
  return a matrix with shape <span class="texMathInline">m\times n</span> using the elements of <span class="texMathInline">A</span>,</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">reshape!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span> <br/>
  return a matrix with shape <span class="texMathInline">m\times n</span> using the elements of <span class="texMathInline">A</span>, share the backing area with <span class="texMathInline">A</span></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0 2.0 3.0 4.0 5.0 6.0 7.0 8.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">reshape</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 3.0 6.0) (1.0 4.0 7.0) (2.0 5.0 8.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">reshape</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0 2.0) (3.0 4.0 5.0) (6.0 7.0 8.0)))</span></p></td></tr></table></blockquote></div></p><p>As an alternative to <span class="RktSym">arange</span> consider using <span class="RktSym">linspace</span>, which
allow you to provide an exact endpoint.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">linspace</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">num</span><span class="RktPn">)</span></span> <br/>
  return a column vector with <span class="RktSym">num</span> numbers evenly spaced from
  <span class="RktSym">start</span> to <span class="RktSym">stop</span></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">linspace</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">num</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span></span> <br/>
   like <span class="RktPn">(</span><span class="RktSym">linspace</span><span class="stt"> </span><span class="RktSym">start</span><span class="stt"> </span><span class="RktSym">stop</span><span class="stt"> </span><span class="RktSym">num</span><span class="RktPn">)</span> but omit the last number</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">linspace</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((2.0) (2.4) (2.8) (3.2) (3.6) (4.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">linspace</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((2.0) (2.4) (2.8) (3.2) (3.6)))</span></p></td></tr></table></blockquote></div></p><h4>2.4<tt>&nbsp;</tt><a name="(part._.Elementwise_.Operations)"></a>Elementwise Operations</h4><p>Elementwise operations (also called <span style="font-style: italic">pointwise</span> operations) work on each element.
The operations are named with a beginning point. Beside the elementwise versions
of the standard arithmetic operations, the standard numerical functions also
has an elementwise counterpart. Binary operators work both on matrices (of the same side)
and on a number and matrix.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.+</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span>                            <br/>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.-</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> and <span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.-</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.*</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> <br/>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">./</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> and <span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">./</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
  Elementwise version of the arithmetical operations.
  The operations returns the result as a new matrix.</p><p>Note that <span class="RktSym">.*</span> is elementwise multiplication. Use <span class="RktSym">times</span>
to multiply two matrices in the linear algebra sense.</p><p><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.-</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-0.0 -1.0) (-2.0 -3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">./</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((+inf.0 1.0) (0.5 0.3333333333333333)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.+</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((4.0 6.0) (8.0 10.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.-</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-4.0 -4.0) (-4.0 -4.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.*</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 5.0) (12.0 21.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">./</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 0.2) (0.3333333333333333 0.42857142857142855)))</span></p></td></tr></table></blockquote></div></p></div><div class="SIntrapara">One of the arguments can be a number:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.+</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 2.0) (3.0 4.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.-</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-2.0 -1.0) (0.0 1.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.*</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((12.0 15.0) (18.0 21.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">./</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 0.25) (0.5 0.75)))</span></p></td></tr></table></blockquote></div></p></div></p><p>The elementwise versions of the standard numerical functions are:</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sin</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.cos</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.tan</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.exp</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.log</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sqr</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sqrt</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.expt</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.sqr</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (4.0 9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.expt</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (4.0 9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.expt</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 2.0) (4.0 8.0)))</span></p></td></tr></table></blockquote></div></p><p>The elementwise operations above all, allocate a new matrix.
If instead you want to modify the elements of an existing matrix,
the following functions are for you.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.-!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">./!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sin!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.cos!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.tan!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.exp!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.log!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sqr!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sqrt!</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.expt!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.+!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.-!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.*!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">./!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> <br/></p><p><div class="SIntrapara">For binary operations, the result is stored in the first argument.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.-!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-0.0 -1.0) (-2.0 -3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.-!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (2.0 3.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.expt!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (4.0 9.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.expt!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (16.0 81.0)))</span></p></td></tr></table></blockquote></div></p></div></p><p>Also, if you want to store the result of an elementwise in another
matrix <span class="texMathInline">C</span>, you can do as follows for the unary operations:</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sin!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.cos!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.tan!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.exp!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.log!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sqr!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.sqrt!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span></p><p>And for the binary operations:</p><p><div class="SIntrapara"><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.+!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.-!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">.*!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">./!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym">C</span><span class="RktPn">)</span></span> <br/>
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.sqr!</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((16.0 25.0) (36.0 49.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">A</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((16.0 25.0) (36.0 49.0)))</span></p></td></tr></table></blockquote></div></p></div></p><p>Finally, for <span class="RktSym">.-!</span> and <span class="RktSym">./!</span> which are both unary and binary operations
at once, use <span class="RktVal">#f</span> as <span class="texMathInline">B</span> to get the unary version.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">.-!</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-4.0 -5.0) (-6.0 -7.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">A</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-4.0 -5.0) (-6.0 -7.0)))</span></p></td></tr></table></blockquote></div></p><h4>2.5<tt>&nbsp;</tt><a name="(part._.Indexing__.Submatrices_and_.Iterating)"></a>Indexing, Submatrices and Iterating</h4><p>From the section on Basic Indexing we know that the element on row <span class="texMathInline">i</span> in column <span class="texMathInline">j</span>,
has index <span class="math">(i,j)</span> and can be extracted with the function <span class="RktSym">ref</span>.</p><p>The <span class="texMathInline">i</span>&rsquo;th row and the <span class="texMathInline">j</span>&rsquo;th column can be extraced with <span class="RktSym">row</span> and <span class="RktSym">col</span>
respectively.</p><p>To get a submatrix use <span class="RktSym">sub</span> and <span class="RktSym">sub!</span>.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">sub</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">i</span><span class="stt"> </span><span class="RktSym">j</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span> <br/>
  Make a copy of the submatrix of <span class="texMathInline">A</span> with upper left corner in <span class="math">(i,j)</span> and with size mxn.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">sub!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">i</span><span class="stt"> </span><span class="RktSym">j</span><span class="stt"> </span><span class="RktSym">m</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span> <br/>
  Same as <span class="RktSym">sub</span>, but the elements are copied - the underlying
  array of flonums are shared.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">reshape</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">25</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">A</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">((0.0 1.0 2.0 3.0 4.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(5.0 6.0 7.0 8.0 9.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(10.0 11.0 12.0 13.0 14.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(15.0 16.0 17.0 18.0 19.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(20.0 21.0 22.0 23.0 24.0)))</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sub</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (5.0 6.0) (10.0 11.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sub</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((6.0 7.0) (11.0 12.0)))</span></p></td></tr></table></blockquote></div></p><p>The function <span class="RktSym">sub!</span> can be used to mutate part of a larger submatrix.</p><p>Let&rsquo;s say we have a matrix, in which we want to zero out all elements except
those on the edges. We can use <span class="RktSym">sub!</span> to get a submatrix of the inner part,
then use <span class="RktSym">zeros!</span> to clear the elements.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">reshape</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">arange</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">35</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">A</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">((10.0 11.0 12.0 13.0 14.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(15.0 16.0 17.0 18.0 19.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(20.0 21.0 22.0 23.0 24.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(25.0 26.0 27.0 28.0 29.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(30.0 31.0 32.0 33.0 34.0)))</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sub!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">B</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((16.0 17.0 18.0) (21.0 22.0 23.0) (26.0 27.0 28.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">zeros!</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">A</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">((10.0 11.0 12.0 13.0 14.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(15.0 0.0 0.0 0.0 19.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(20.0 0.0 0.0 0.0 24.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(25.0 0.0 0.0 0.0 29.0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(30.0 31.0 32.0 33.0 34.0)))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p>To iterate over a row or a column use <span class="RktSym">in-flrow</span> and <span class="RktSym">in-flcolumn</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">11</span><span class="hspace">&nbsp;</span><span class="RktVal">22</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">33</span><span class="hspace">&nbsp;</span><span class="RktVal">44</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Flist%29%29" class="RktStxLink" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-flrow</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(11.0 22.0)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Flist%29%29" class="RktStxLink" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-flrow</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((11.0 0) (22.0 1))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Flist%29%29" class="RktStxLink" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-flcolumn</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(11.0 33.0)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/for.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._for%2Flist%29%29" class="RktStxLink" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">in-flcolumn</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((11.0 0) (33.0 1))</span></p></td></tr></table></blockquote></div></p><h4>2.6<tt>&nbsp;</tt><a name="(part._.Basic_.Linear_.Algebra)"></a>Basic Linear Algebra</h4><p>The basic linear algebra are <span class="RktSym">plus</span>, <span class="RktSym">minus</span> and <span class="RktSym">times</span>,
which compute the sum, difference and product of a series of matrices.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">plus</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">minus</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">times</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></span> <br/>
Computes the sum, difference and product of a series of matrices and/or numbers.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">C</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">plus</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((3.0 2.0) (3.0 6.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">plus</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((12.0 10.0) (10.0 12.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">plus</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((13.0 12.0) (13.0 16.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">minus</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((-2.0 -0.0) (-0.0 -2.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">minus</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 -2.0) (-3.0 -2.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((2.0 4.0) (6.0 8.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((4.0 8.0) (12.0 16.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">C</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((8.0) (10.0)))</span></p></td></tr></table></blockquote></div></p><p>As usual, there are variants that mutate the first given matrix
instead of allocating a new backing array of flonums.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">plus!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></span>
<span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">minus!</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></span>  <br/>
Like <span class="RktSym">plus</span> and <span class="RktSym">minus</span>  but stores
the result in <span class="texMathInline">A</span>, which must be a matrix.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">plus!</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((2.0 2.0) (2.0 2.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">A</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((2.0 2.0) (2.0 2.0)))</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">power</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span></span> <br/>
Computes the <span class="texMathInline">n</span>&rsquo;th power of a matrix <span class="texMathInline">A</span>, where <span class="texMathInline">n</span> is a natural number.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">power</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">power</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">power</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">power</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix: ((1.0 0.0) (0.0 1.0)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0 1.0) (0.0 1.0)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0 2.0) (0.0 1.0)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0 3.0) (0.0 1.0))))</span></p></td></tr></table></td></tr></table></blockquote></div></p><h4>2.7<tt>&nbsp;</tt><a name="(part._.Matrix_and_.Vector_.Products)"></a>Matrix and Vector Products</h4><p>The inner product (also known as the dot product) of two column vectors
can be computed by <span class="RktSym">dot</span>.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">dot</span><span class="stt"> </span><span class="RktSym">v</span><span class="stt"> </span><span class="RktSym">w</span><span class="RktPn">)</span></span> <br/>
Computes the inner product of two column vectors (i.e. matrices with only one column).</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">dot</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">0.0</span></p></td></tr></table></blockquote></div></p><p>The outer product of a column vector <span class="texMathInline">A</span> with <span class="texMathInline">m</span> rows and an row <span class="texMathInline">B</span> with <span class="texMathInline">n</span> columns
is an <span class="texMathInline">m\times n</span> matrix <span class="math">O</span> with elements <span class="math">o_ij = a_i\cdot b_j</span>.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">outer</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> <br/>
Computes the outer product of the first column of <span class="texMathInline">A</span> and the first row of <span class="math">B</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">outer</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((10.0 14.0) (15.0 21.0)))</span></p></td></tr></table></blockquote></div></p><p>The Kronecker product between two matrices <span class="RktSym">A</span> and <span class="RktSym">B</span> replaces
each element <span class="RktSym">a</span> of <span class="RktSym">A</span> with a copy of <span class="RktSym">B</span> scaled with <span class="RktSym">A</span>.
The Kronecker product is a generalization of the outer product.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">kron</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> <br/>
Computes the Kronecker product of the matrices <span class="texMathInline">A</span> and #(struct:traverse-element #&lt;procedure:.../render-cond.rkt:38:12&gt;).</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">kron</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes">((1.0 1.0 2.0 2.0) (1.0 1.0 2.0 2.0) (3.0 3.0 4.0 4.0) (3.0 3.0 4.0 4.0)))</span></p></td></tr></table></td></tr></table></blockquote></div></p><h4>2.8<tt>&nbsp;</tt><a name="(part._.Matrix_.Decompositions)"></a>Matrix Decompositions</h4><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">cholesky</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">qr</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">svd</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Computes the Cholesky, QR and SVD decompositions respectively.</p><p>The Singular Value Decomposition (SVD) returns three matrices:
a unitary matrix <span class="texMathInline">U</span>, a column vector of singular values <span class="texMathInline">S</span> and
a unitary matrix <span class="math">V^T</span> (<span class="texMathInline">V</span> transposed). The function <span class="RktSym">diag</span> constructs
a diagonal matrix from the singular values.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="hspace">&nbsp;</span><span class="RktSym">VT</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">svd</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&#931;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">diag</span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktSym">&#931;</span><span class="hspace">&nbsp;</span><span class="RktSym">VT</span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-0.404553584833757 -0.9145142956773046)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(-0.9145142956773046 0.40455358483375703)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((5.464985704219043 0.0) (0.0 0.36596619062625757)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-0.5760484367663209 -0.8174155604703632)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(0.8174155604703632 -0.5760484367663209)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((5.464985704219043) (0.36596619062625757))))</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktSym">&#931;</span><span class="hspace">&nbsp;</span><span class="RktSym">VT</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0000000000000004 2.0) (3.000000000000001 4.0)))</span></p></td></tr></table></blockquote></div></p><p>The QR Decomposition of <span class="texMathInline">A</span> consists of two matrices: an orthogonal matrix <span class="texMathInline">Q</span>
and an upper triangular matrix <span class="texMathInline">R</span> such that <span class="math">A=QR</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28quote._~23~25kernel%29._define-values%29%29" class="RktStxLink" data-pltdoc="x">define-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">qr</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-0.316227766016838 -0.9486832980505138)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(-0.9486832980505138 0.31622776601683805)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-3.1622776601683795 -4.427188724235731) (0.0 -0.6324555320336754))))</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">Q</span><span class="hspace">&nbsp;</span><span class="RktSym">R</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0000000000000002 2.0) (3.0 4.0)))</span></p></td></tr></table></blockquote></div></p><p>If the matrix <span class="texMathInline">A</span> is symmetric and positive-definite, then
the Cholesky decomposition can be computed.
It comes in two forms</p><p><div class="math">A = L L^T  \textrm{ or } A = U^T U,</div></p><p>where <span class="texMathInline">L</span> and <span class="texMathInline">U</span> are lower and upper triangular matrices.</p><p>Note: <span class="RktSym">cholesky</span> does not check that the input matrix <span class="texMathInline">A</span>
is symmetric and positive definite.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cholesky</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((1.0 0.0) (2.0 0.0))) (flmatrix: ((1.0 2.0) (0.0 0.0))))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktSym">L</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 2.0) (2.0 4.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cholesky</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">upper</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((1.0 0.0) (2.0 0.0))) (flmatrix: ((1.0 2.0) (0.0 0.0))))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">transpose</span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">U</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 2.0) (2.0 4.0)))</span></p></td></tr></table></blockquote></div></p><h4>2.9<tt>&nbsp;</tt><a name="(part._.Matrix_.Eigenvalues_and_.Eigenvectors)"></a>Matrix Eigenvalues and Eigenvectors</h4><p>Eigenvalues and eigenvectors of a square matrix can be computed with <span class="RktSym">eig</span>
or, if only the eigenvalues are needed, with <span class="RktSym">eigvals</span>.
Note that even if all elements of a matrix are real, the eigenvalues in some
cases are complex. Therefore the eigenvalues are returned as a standard
Racket vector.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">eig</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Compute eigenvalues and right eigenvectors.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">eigvals</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Compute eigenvalues.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">eig</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">diag</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'#(1.0 2.0)</span></p></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.0 0.0) (0.0 1.0)))</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">eigvals</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">diag</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(1.0 2.0)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">eig</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'#(1.0+1.0i 1.0-1.0i)</span></p></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.7071067811865475 0.0) (0.0 -0.7071067811865475)))</span></p></td></tr></table></td></tr></table></blockquote></div></p><h4>2.10<tt>&nbsp;</tt><a name="(part._.Norms_and_.Invariants)"></a>Norms and Invariants</h4><p>The standard 2-norm <span class="math">|\cdot|_2</span> can be computed by <span class="RktSym">norm</span>.
For a column vector the norm is sometimes referred to as the length.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">norm</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Compute the square root om the sum of the square of all elements.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">norm</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1.4142135623730951</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">norm</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2.0</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">det</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Computes the determinant of a square matrix <span class="math">A</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">det</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">4.0</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">det</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">-0.0</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">trace</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Computes the trace, the sum along a diagonal, of a matrix.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">trace</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5.0</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">rank</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Computes the rank of a square matrix.
The rank is the dimension of the column space,
which is equal to the dimension of the row space,
which is equal to the number  of non-zero singular values
in an SVD decomposition.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">rank</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">2</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">rank</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">1</span></p></td></tr></table></blockquote></div></p><h4>2.11<tt>&nbsp;</tt><a name="(part._.Solving_.Equations_and_.Inverting_.Matrices)"></a>Solving Equations and Inverting Matrices</h4><p>Solving linear equations are more or less the raison d&rsquo;etre for matrices.
The main workhorse is <span class="RktSym">mldivide</span>, which can solve for <span class="texMathInline">X</span>
in the equation:</p><p><div class="math">AX = B</div>,</p><p>where <span class="texMathInline">A</span> is a an <span class="texMathInline">m\times m</span> matrix, and both <span class="texMathInline">X</span> and <span class="texMathInline">B</span> are <span class="math">mxn</span>.</p><p>Note that <span class="texMathInline">A</span> needs to be of full rank for the equation
to have a solution. The solver doesn&rsquo;t check that the input
matrix has full rank, it just runs it computation as usual.
To check that the output from <span class="RktSym">solve</span> is indeed a solution,
you can evaluate <span class="RktPn">(</span><span class="RktSym">times</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">X</span><span class="RktPn">)</span> and compare with <span class="math">B</span>.
The name <span class="RktSym">mldivide</span> is short for "Matrix Left divide".
Although <span class="RktSym">mldivide</span> doesn&rsquo;t find <span class="texMathInline">X</span> by
multiplying <span class="texMathInline">B</span> with <span class="math">A^{-1}</span> on the left,
it is fitting analogy.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">mldivide</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> <br/>
Solve the equation <span class="math">AX = B</span> using <span class="math">LU</span>-decomposition with
partial pivoting. The matrix <span class="texMathInline">A</span> must be square and of full rank, the number
of rows in <span class="texMathInline">A</span> must be the same as the number columns in <span class="math">B</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mldivide</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">(flmatrix-solve-many! 0)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix: ((-1.9999999999999996) (1.4999999999999998)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0) (8.881784197001252e-16))))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">mrdivide</span><span class="stt"> </span><span class="RktSym">B</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Solve the equation <span class="math">XA = B</span>.
The name <span class="RktSym">mrdivide</span> is short for "Matrix Right divide".</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mrdivide</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">(flmatrix-solve-many! 0)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'((flmatrix: ((2.0 0.0) (0.0 2.0))) (flmatrix: ((2.0 4.0) (6.0 8.0))))</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">inv</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Find the multiplicative inverse of a square matrix <span class="math">A</span>.</p><p><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Ainv</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">inv</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Ainv</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">Ainv</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-1.9999999999999996 0.9999999999999998)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(1.4999999999999998 -0.4999999999999999)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0 0.0) (8.881784197001252e-16 0.9999999999999996))))</span></p></td></tr></table></td></tr></table></blockquote></div></p></div><div class="SIntrapara">An inverse of <span class="texMathInline">A</span> can be used to solve <span class="math">AX=B</span>, but
using <span class="RktSym">mldivide</span> directly is normally better. However, let&rsquo;s
try to solve the equation from the previous example.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">0</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">Ainv</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix: ((-1.9999999999999996) (1.4999999999999998)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0) (8.881784197001252e-16))))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">pinv</span><span class="stt"> </span><span class="RktSym">A</span><span class="RktPn">)</span></span> <br/>
Find the Moore-Penrose pseudo-inverse <span class="math">A^+</span>of the matrix <span class="math">A</span>.
The matrix <span class="texMathInline">A</span> does not need to be square.
The pseudo inverse of an <span class="texMathInline">m\times n</span> matrix is of size <span class="math">n\times m</span>.</p><p><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pinv</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">A+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A+</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">A+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="hspace">&nbsp;</span><span class="RktSym">A+</span><span class="hspace">&nbsp;</span><span class="RktSym">A</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-2.0000000000000013 1.0000000000000009)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(1.5000000000000013 -0.5000000000000007)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-2.0000000000000027 1.0000000000000018)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(1.5000000000000027 -0.5000000000000013)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix: ((1.0 2.000000000000001) (3.0000000000000018 4.0000000000000036))))</span></p></td></tr></table></td></tr></table></blockquote></div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matrix</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">pinv</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">B+</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktSym">B+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">times</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;</span><span class="RktSym">B+</span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'((flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-0.9444444444444439 0.4444444444444441)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(-0.1111111111111109 0.11111111111111101)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(0.7222222222222218 -0.22222222222222193)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((-0.9444444444444434 0.44444444444444375)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(-0.1111111111111108 0.11111111111111097)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(0.7222222222222211 -0.2222222222222216)))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(flmatrix:</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">((1.0000000000000009 2.000000000000001 3.000000000000001)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(3.999999999999999 4.999999999999999 5.999999999999999))))</span></p></td></tr></table></td></tr></table></blockquote></div></p></div></p><h4>2.12<tt>&nbsp;</tt><a name="(part._.Least_.Square_.Problems)"></a>Least Square Problems</h4><p>Let <span class="texMathInline">A</span> be an <span class="texMathInline">m\times n</span> matrix and let <span class="texMathInline">b</span> be an <span class="texMathInline">n\times 1</span> column vector.
The equation <span class="math">Ax=b</span> may (depending on <span class="texMathInline">A</span>) may not have
an unique solution - or a solution at all.</p><p>As an alternative, one can look for the vector <span class="texMathInline">x</span> that minimizes:
    <div class="math">|Ax-b|_2,</div>
where <span class="math">|\cdot|_2</span> is the Euclidean 2-norm.</p><p>The function <span class="RktSym">lstsq</span> return the minimum norm solution <span class="texMathInline">x</span>
of the above the problem.</p><p>If <span class="RktSym">lstsq</span> is given an <span class="texMathInline">n\times k</span> matrix <span class="texMathInline">B</span>, then the
problem will be solved for each column <span class="texMathInline">b</span> of <span class="math">B</span>.</p><p><span style="font-weight: bold"><span class="RktPn">(</span><span class="RktSym">lstsq</span><span class="stt"> </span><span class="RktSym">A</span><span class="stt"> </span><span class="RktSym">B</span><span class="RktPn">)</span></span> <br/>
Find minimum norm solution to the least squares problem: <span class="RktVal">"minimize |Ax-b|"</span> ,
for each column <span class="texMathInline">b</span> of a larger matrix <span class="math">B</span>.</p><p>As an example, let&rsquo;s look at estimating <span class="math">b_0</span> and <span class="math">b_1</span> in the model:
    <div class="math">y=b_0\cdot x+b_1</div>
given a data set consisting of corresponding <span class="math">x</span>- and <span class="math">y</span>-values.
The calculation reveals that the relation between <span class="texMathInline">x</span> and <span class="texMathInline">y</span> is <span class="math">y=2x+1</span>.</p><p>The matrix <span class="texMathInline">X</span> is called the <span style="font-style: italic">design matrix</span> of the problem.
See <a href="https://en.wikipedia.org/wiki/Design_matrix">Design Matrix</a> at Wikipedia.
In this case the design matrix has two columns: the first has the <span class="math">x</span>-values, the
second contains just ones.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">ys</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">column</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">augment</span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flmatrix-ones</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nrows</span><span class="hspace">&nbsp;</span><span class="RktSym">xs</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">X</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((0.0 1.0) (1.0 1.0) (2.0 1.0) (3.0 1.0)))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">B</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lstsq</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">ys</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">B</span></td></tr><tr><td><p><span class="RktRes">(flmatrix: ((1.9999999999999996) (0.9999999999999992)))</span></p></td></tr></table></blockquote></div></p><h3>3<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h3><p>The package <span class="RktSym">flmatrix</span> is installed either in the terminal:</p><p><span class="RktSym">raco</span><span class="stt"> </span><span class="RktSym">pkg</span><span class="stt"> </span><span class="RktSym">install</span><span class="stt"> </span><span class="RktSym">flmatrix</span></p><p>or using the Package Manager in DrRacket.</p><p>The package relies on the shared libraries CBLAS and LAPACK.
Depending on your OS, you might need to install these yourself.</p><p>On macOS both CBLAS and LAPACK is part of the Accelerate Framework
which is distributed by Apple. This means no extra installation is
needed.</p><p>On Linux you need copies of CBLAS and LAPACK. Since BLAS and LAPACK
exists in multiple versions, so a little care is needed. First
on most systems <span class="RktSym">libblas</span> is used for the Fortran version,
and <span class="RktSym">libcblas</span>, so get the latter. However on Debian it turns
out <span class="RktSym">libblas</span> is exporting the names used by CBLAS, so
(either?) ought to be fine.</p><p>On Windows: A tester is needed. Install CBLAS and LAPACK and let
me know if it works. Otherwise make an Issue at Github and we
will add the proper paths.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>